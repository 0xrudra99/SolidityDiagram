/* 
 * Additional styles for the Solidity Diagram extension
 * These are supplementary styles that can be loaded as external resources
 */

/* Animation keyframes */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes drawLine {
    from {
        stroke-dashoffset: 1000;
    }
    to {
        stroke-dashoffset: 0;
    }
}

/* Apply animations */
.code-block-wrapper {
    animation: fadeIn 0.3s ease-out;
}

.column-left .code-block-wrapper {
    animation: slideInLeft 0.4s ease-out;
}

.column-right .code-block-wrapper {
    animation: slideInRight 0.4s ease-out;
}

.arrow-path {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: drawLine 0.8s ease-out forwards;
    animation-delay: 0.3s;
}

/* Tooltip styles */
.tooltip {
    position: absolute;
    background: rgba(0, 0, 0, 0.9);
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    pointer-events: none;
    z-index: 100;
    max-width: 300px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -6px;
    border-width: 6px;
    border-style: solid;
    border-color: rgba(0, 0, 0, 0.9) transparent transparent transparent;
}

/* Loading state */
.loading {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(137, 180, 250, 0.2);
    border-top-color: #89b4fa;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Error state */
.error-message {
    background: rgba(243, 139, 168, 0.1);
    border: 1px solid rgba(243, 139, 168, 0.3);
    border-radius: 8px;
    padding: 16px;
    text-align: center;
    color: #f38ba8;
}

.error-message h3 {
    margin-bottom: 8px;
}

/* Highlight effect for source references */
.code-block-wrapper.highlighted {
    box-shadow: 0 0 0 2px #89b4fa, 0 8px 30px rgba(137, 180, 250, 0.3);
}

/* Connection indicator dots */
.connection-dot {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #f38ba8;
    border-radius: 50%;
    transform: translate(-50%, -50%);
}

.connection-dot.struct {
    background: #89dceb;
}

/* Expand/collapse functionality */
.code-block-wrapper.collapsed .code-block {
    max-height: 60px;
    overflow: hidden;
}

.code-block-wrapper.collapsed::after {
    content: 'Click to expand';
    position: absolute;
    bottom: 40px;
    left: 0;
    right: 0;
    text-align: center;
    padding: 8px;
    background: linear-gradient(transparent, rgba(30, 30, 46, 0.95));
    color: #71717a;
    font-size: 12px;
    cursor: pointer;
}

/* Print styles */
@media print {
    body {
        background: white;
        color: black;
    }

    .code-block {
        background: #f5f5f5 !important;
        color: #1e1e1e !important;
    }

    .arrows-layer {
        display: none;
    }

    .goto-btn {
        display: none;
    }
}
